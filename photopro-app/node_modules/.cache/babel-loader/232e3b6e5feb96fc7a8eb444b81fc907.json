{"ast":null,"code":"var _jsxFileName = \"/home/cristian/Documents/projects/COMP3900_PhotoPro/capstone-project-comp3900-f11a-2mjec/photopro-app/src/components/toolbar/notifications/notifications.jsx\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nconst options = ['None', 'Atria', 'Callisto', 'Dione', 'Ganymede', 'Hangouts Call', 'Luna', 'Oberon', 'Phobos', 'Pyxis', 'Sedna', 'Titania', 'Triton', 'Umbriel'];\nconst ITEM_HEIGHT = 48;\nexport default function Notifications() {\n  const [notifications, setNotifications] = useState([]);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleClick = event => {\n    const fetchNotifications = () => {\n      axios({\n        url: 'http://localhost:5000/fetch_notification',\n        params: {}\n      }).then(res => {\n        console.log(res);\n\n        if (res.data.result) {\n          console.log('setting notifications');\n          setNotifications(res.data.result);\n        }\n      });\n    };\n\n    setAnchorEl(event.currentTarget);\n    fetchNotifications();\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleClearNotifications = () => {\n    console.log('clear notifications');\n\n    const clearNotifications = () => {\n      axios({\n        url: 'http://localhost:5000/clear_notifications',\n        params: {}\n      }).then(res => {\n        console.log(res);\n      });\n    };\n\n    clearNotifications();\n    setNotifications([]);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"more\",\n    \"aria-controls\": \"long-menu\",\n    \"aria-haspopup\": \"true\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(NotificationsIcon, {\n    style: {\n      color: 'rgba(224, 224, 224, 0.74)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Menu, {\n    id: \"long-menu\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: open,\n    onClose: handleClose,\n    PaperProps: {\n      style: {\n        maxHeight: ITEM_HEIGHT * 4.5,\n        width: '50ch'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, notifications.length > 0 ? notifications.map((notification, index) => {\n    if (index === 0) {\n      return /*#__PURE__*/React.createElement(MenuItem, {\n        key: index,\n        onClick: handleClearNotifications,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }\n      }, \"Clear Notifications\");\n    } else {\n      return /*#__PURE__*/React.createElement(MenuItem, {\n        key: index,\n        onClick: handleClose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 19\n        }\n      }, \"User \", notification.sender, ' ', notification.type === 'like' ? 'liked your' : 'commented on your', ' ', \"post - \", `'${notification.image_id}'`));\n    }\n  }) : /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, \"No Notifications at this time\")));\n}","map":{"version":3,"sources":["/home/cristian/Documents/projects/COMP3900_PhotoPro/capstone-project-comp3900-f11a-2mjec/photopro-app/src/components/toolbar/notifications/notifications.jsx"],"names":["React","useState","axios","IconButton","Menu","MenuItem","NotificationsIcon","options","ITEM_HEIGHT","Notifications","notifications","setNotifications","anchorEl","setAnchorEl","open","Boolean","handleClick","event","fetchNotifications","url","params","then","res","console","log","data","result","currentTarget","handleClose","handleClearNotifications","clearNotifications","color","style","maxHeight","width","length","map","notification","index","sender","type","image_id"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\n\nconst options = [\n  'None',\n  'Atria',\n  'Callisto',\n  'Dione',\n  'Ganymede',\n  'Hangouts Call',\n  'Luna',\n  'Oberon',\n  'Phobos',\n  'Pyxis',\n  'Sedna',\n  'Titania',\n  'Triton',\n  'Umbriel',\n];\n\nconst ITEM_HEIGHT = 48;\n\nexport default function Notifications() {\n  const [notifications, setNotifications] = useState([]);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleClick = (event) => {\n    const fetchNotifications = () => {\n      axios({\n        url: 'http://localhost:5000/fetch_notification',\n        params: {},\n      }).then((res) => {\n        console.log(res);\n        if (res.data.result) {\n          console.log('setting notifications');\n          setNotifications(res.data.result);\n        }\n      });\n    };\n\n    setAnchorEl(event.currentTarget);\n    fetchNotifications();\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleClearNotifications = () => {\n    console.log('clear notifications');\n    const clearNotifications = () => {\n      axios({\n        url: 'http://localhost:5000/clear_notifications',\n        params: {},\n      }).then((res) => {\n        console.log(res);\n      });\n    };\n\n    clearNotifications();\n    setNotifications([]);\n  };\n\n  return (\n    <div>\n      <IconButton\n        aria-label=\"more\"\n        aria-controls=\"long-menu\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n      >\n        <NotificationsIcon style={{ color: 'rgba(224, 224, 224, 0.74)' }} />\n      </IconButton>\n      <Menu\n        id=\"long-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={open}\n        onClose={handleClose}\n        PaperProps={{\n          style: {\n            maxHeight: ITEM_HEIGHT * 4.5,\n            width: '50ch',\n          },\n        }}\n      >\n        {notifications.length > 0 ? (\n          notifications.map((notification, index) => {\n            if (index === 0) {\n              return (\n                <MenuItem key={index} onClick={handleClearNotifications}>\n                  Clear Notifications\n                </MenuItem>\n              );\n            } else {\n              return (\n                <MenuItem key={index} onClick={handleClose}>\n                  <div>\n                    User {notification.sender}{' '}\n                    {notification.type === 'like'\n                      ? 'liked your'\n                      : 'commented on your'}{' '}\n                    post - {`'${notification.image_id}'`}\n                  </div>\n                </MenuItem>\n              );\n            }\n          })\n        ) : (\n          <MenuItem onClick={handleClose}>\n            No Notifications at this time\n          </MenuItem>\n        )}\n      </Menu>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}