{"ast":null,"code":"var _jsxFileName = \"/home/mimi/Desktop/COMP3900/capstone-project-comp3900-f11a-2mjec/photopro-app/src/components/comments/comment/Comment.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./Comment.css\";\nimport ReplyIcon from \"@material-ui/icons/Reply\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport axios from \"axios\";\nexport default function Comment(props) {\n  const [] = useState(\"\");\n  let commenterID = String(props.comment_info.commenter);\n  let userID = localStorage.getItem(\"userID\");\n\n  const deleteComment = commentID => {\n    axios({\n      method: \"POST\",\n      url: \"http://localhost:5000//post_delete_comment\",\n      params: {\n        comment_id: commentID\n      }\n    }).then(response => {\n      if (response.data.result) {\n        console.log(response);\n      }\n    });\n  };\n\n  const handleDeleteClicked = () => {\n    deleteComment(props.comment_info.comment_id);\n    props.updateComments(props.comment_info.comment.concat(\"updated\"));\n  };\n\n  let deleteButton = commenterID === userID ? /*#__PURE__*/React.createElement(IconButton, {\n    onClick: handleDeleteClicked,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DeleteOutlineIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  })) : /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  });\n\n  const handleReplyClicked = () => {// open the form\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card v-card v-sheet theme--light elevation-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comment-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"v-avatar avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://images.unsplash.com/photo-1490894641324-cfac2f5cd077?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=100&q=70\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"displayName title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, props.comment_info.commenter), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"displayName caption\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, props.comment_info.created_at), /*#__PURE__*/React.createElement(IconButton, {\n    onClick: handleReplyClicked,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ReplyIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  })), deleteButton), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrapper comment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, props.comment_info.comment)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"reply_input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handlePostClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"comment\",\n    id: \"comment_input\",\n    value: comment_input,\n    onChange: e => set_comment_input(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  }))))));\n}","map":{"version":3,"sources":["/home/mimi/Desktop/COMP3900/capstone-project-comp3900-f11a-2mjec/photopro-app/src/components/comments/comment/Comment.jsx"],"names":["React","useState","useEffect","ReplyIcon","DeleteOutlineIcon","IconButton","Button","axios","Comment","props","commenterID","String","comment_info","commenter","userID","localStorage","getItem","deleteComment","commentID","method","url","params","comment_id","then","response","data","result","console","log","handleDeleteClicked","updateComments","comment","concat","deleteButton","handleReplyClicked","created_at","handlePostClick","comment_input","e","set_comment_input","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./Comment.css\";\nimport ReplyIcon from \"@material-ui/icons/Reply\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport axios from \"axios\";\n\nexport default function Comment(props) {\n  const [] = useState(\"\");\n  let commenterID = String(props.comment_info.commenter);\n  let userID = localStorage.getItem(\"userID\");\n\n  const deleteComment = (commentID) => {\n    axios({\n      method: \"POST\",\n      url: \"http://localhost:5000//post_delete_comment\",\n      params: { comment_id: commentID },\n    }).then((response) => {\n      if (response.data.result) {\n        console.log(response);\n      }\n    });\n  };\n\n  const handleDeleteClicked = () => {\n    deleteComment(props.comment_info.comment_id);\n    props.updateComments(props.comment_info.comment.concat(\"updated\"));\n  };\n\n  let deleteButton =\n    commenterID === userID ? (\n      <IconButton onClick={handleDeleteClicked}>\n        <DeleteOutlineIcon />\n      </IconButton>\n    ) : (\n      <Button></Button>\n    );\n\n  const handleReplyClicked = () => {\n    // open the form\n  };\n\n  return (\n    <div className=\"card v-card v-sheet theme--light elevation-2\">\n      <div className=\"header\">\n        <div className=\"comment-container\">\n          <div className=\"v-avatar avatar\">\n            <img src=\"https://images.unsplash.com/photo-1490894641324-cfac2f5cd077?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=100&q=70\"></img>\n          </div>\n          <span className=\"displayName title\">\n            {props.comment_info.commenter}\n          </span>{\" \"}\n          <span className=\"displayName caption\">\n            {props.comment_info.created_at}\n          </span>\n          <IconButton onClick={handleReplyClicked}>\n            <ReplyIcon />\n          </IconButton>\n          {deleteButton}\n        </div>\n        <div className=\"wrapper comment\">\n          <p>{props.comment_info.comment}</p>\n        </div>\n        <div className=\"reply_input\">\n          <form onSubmit={handlePostClick}>\n            <div>\n              <input\n                type=\"comment\"\n                id=\"comment_input\"\n                value={comment_input}\n                onChange={(e) => set_comment_input(e.target.value)}\n              />\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}