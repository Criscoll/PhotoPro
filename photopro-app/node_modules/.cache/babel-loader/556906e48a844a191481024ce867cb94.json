{"ast":null,"code":"var _jsxFileName = \"/home/cristian/Documents/projects/COMP3900_PhotoPro/capstone-project-comp3900-f11a-2mjec/photopro-app/src/components/CapturePhotoPage.jsx\";\nimport React from 'react';\nimport ImageUploader from 'react-images-upload';\nimport { Button, FormGroup, FormControl, FormLabel } from 'react-bootstrap';\nimport axios from 'axios';\nvar caption = '';\nvar title = '';\nvar price = '0';\nvar img = null;\n\nfunction isValid() {\n  if (img == null) {\n    return true;\n  }\n\n  return false;\n}\n\nasync function attempt_login(event) {\n  event.preventDefault(); // console.log(caption);\n  // console.log(img);\n\n  const form_data = new FormData();\n  form_data.append('image', img);\n  form_data.append('user_id', 2);\n  form_data.append('caption', caption);\n  form_data.append('title', title);\n  form_data.append('price', price);\n  const response = await axios.post('http://localhost:5000/post', form_data);\n  console.log(response);\n}\n\nclass CapturePhotoPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pictures: [],\n      caption: ''\n    };\n    this.onDrop = this.onDrop.bind(this);\n  }\n\n  onDrop(pictureFiles, pictureDataURLs) {\n    this.setState({\n      pictures: this.state.pictures.concat(pictureFiles)\n    }); // console.log(pictureFiles[0]);\n    // console.log(pictureDataURLs[0]);\n\n    img = pictureDataURLs[0];\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ImageUploader, {\n      withIcon: true,\n      buttonText: \"Choose image\",\n      onChange: this.onDrop,\n      imgExtension: ['.jpg', '.png'],\n      maxFileSize: 5242880,\n      withPreview: true,\n      singleImage: true,\n      withLabel: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: attempt_login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      bsSize: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, \"Title:\"), /*#__PURE__*/React.createElement(FormControl, {\n      autoFocus: true,\n      onChange: e => title = e.target.value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      bsSize: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, \"Caption:\"), /*#__PURE__*/React.createElement(FormControl, {\n      autoFocus: true,\n      onChange: e => caption = e.target.value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      bsSize: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, \"Price: $\"), /*#__PURE__*/React.createElement(FormControl, {\n      autoFocus: true,\n      type: \"number\",\n      step: \"0.01\",\n      onChange: e => price = e.target.value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      block: true,\n      bsSize: \"large\",\n      disabled: isValid(),\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }, \"Post\")));\n  }\n\n}\n\nexport default CapturePhotoPage;","map":{"version":3,"sources":["/home/cristian/Documents/projects/COMP3900_PhotoPro/capstone-project-comp3900-f11a-2mjec/photopro-app/src/components/CapturePhotoPage.jsx"],"names":["React","ImageUploader","Button","FormGroup","FormControl","FormLabel","axios","caption","title","price","img","isValid","attempt_login","event","preventDefault","form_data","FormData","append","response","post","console","log","CapturePhotoPage","Component","constructor","props","state","pictures","onDrop","bind","pictureFiles","pictureDataURLs","setState","concat","render","e","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ImageUploader from 'react-images-upload';\nimport { Button, FormGroup, FormControl, FormLabel } from 'react-bootstrap';\nimport axios from 'axios';\n\nvar caption = '';\nvar title = '';\nvar price = '0';\nvar img = null;\n\nfunction isValid() {\n  if (img == null) {\n    return true;\n  }\n  return false;\n}\n\nasync function attempt_login(event) {\n  event.preventDefault();\n  // console.log(caption);\n  // console.log(img);\n  const form_data = new FormData();\n  form_data.append('image', img);\n  form_data.append('user_id', 2);\n  form_data.append('caption', caption);\n  form_data.append('title', title);\n  form_data.append('price', price);\n\n  const response = await axios.post('http://localhost:5000/post', form_data);\n  console.log(response);\n}\n\nclass CapturePhotoPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { pictures: [], caption: '' };\n    this.onDrop = this.onDrop.bind(this);\n  }\n\n  onDrop(pictureFiles, pictureDataURLs) {\n    this.setState({\n      pictures: this.state.pictures.concat(pictureFiles),\n    });\n    // console.log(pictureFiles[0]);\n    // console.log(pictureDataURLs[0]);\n    img = pictureDataURLs[0];\n  }\n\n  render() {\n    return (\n      <div>\n        <ImageUploader\n          withIcon={true}\n          buttonText=\"Choose image\"\n          onChange={this.onDrop}\n          imgExtension={['.jpg', '.png']}\n          maxFileSize={5242880}\n          withPreview={true}\n          singleImage={true}\n          withLabel={true}\n        />\n        <form onSubmit={attempt_login}>\n          <FormGroup bsSize=\"large\">\n            <FormLabel>Title:</FormLabel>\n            <FormControl autoFocus onChange={(e) => (title = e.target.value)} />\n          </FormGroup>\n          <FormGroup bsSize=\"large\">\n            <FormLabel>Caption:</FormLabel>\n            <FormControl\n              autoFocus\n              onChange={(e) => (caption = e.target.value)}\n            />\n          </FormGroup>\n          <FormGroup bsSize=\"large\">\n            <FormLabel>Price: $</FormLabel>\n            <FormControl\n              autoFocus\n              type=\"number\"\n              step=\"0.01\"\n              onChange={(e) => (price = e.target.value)}\n            />\n          </FormGroup>\n          <Button block bsSize=\"large\" disabled={isValid()} type=\"submit\">\n            Post\n          </Button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default CapturePhotoPage;\n"]},"metadata":{},"sourceType":"module"}